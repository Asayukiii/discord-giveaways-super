"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkConfiguration=void 0;const defaultConfig_1=require("../../../structures/defaultConfig"),checkConfiguration=(e,o={})=>{const n=[],t=defaultConfig_1.defaultConfig,i={...e,...t};o.ignoreUnspecifiedOptions||(o.ignoreUnspecifiedOptions=!0),o.sendLog||(o.sendLog=!0),o.showProblems||(o.showProblems=!0);for(const s of Object.keys(e)){const c=e,f=t[s],p=c[s];"database"!==s&&"connection"!==s&&(null==p?(i[s]=f,o.ignoreUnspecifiedOptions||n.push(`options.${s} is not specified.`)):typeof p!=typeof f?o.ignoreInvalidTypes||(n.push(`options.${s} is not a ${typeof f}. Received type: ${typeof p}.`),i[s]=f):i[s]=p)}const s=(e,t,i)=>{for(const c in t){const f=t[c],p=e[c],r=i?`${i}.${c}`:c;null==p?(null==e[c]&&(e[c]=f),o.ignoreUnspecifiedOptions||n.push(`${r} is not specified.`)):typeof p!=typeof f?o.ignoreInvalidTypes||"database"===c||"connection"===c||(n.push(`${r} is not a ${typeof f}. Received type: ${typeof p}.`),e[c]=f):"object"==typeof p&&null!==p&&s(p,f,r)}};if(s(e,defaultConfig_1.defaultConfig,""),o.sendLog){const e=n.length;o.showProblems&&((o.sendSuccessLog||e)&&console.log(`Checked the configuration: ${e} ${1==e?"problem":"problems"} found.`),e&&console.log(n.join("\n")))}return i.database=e.database,i.connection=e.connection,i};exports.checkConfiguration=checkConfiguration;
