"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CacheManager=void 0;const typeOf_function_1=require("../util/functions/typeOf.function");class CacheManager{_cache;constructor(){this._cache=new Map}getCacheObject(){const e={};for(const[t,c]of this._cache.entries())e[t]=c;return e}get(e){let t=this.getCacheObject(),c=t;const n=e.split(".");for(let e=0;e<n.length;e++)n.length-1==e&&(t=c?.[n[e]]||null),c=c?.[n[e]];return t}set(e,t){const c=this.getCacheObject();let n=c;const s=e.split(".");for(let e=0;e<s.length;e++)s.length-1==e?n[s[e]]=t:(0,typeOf_function_1.isObject)(c[s[e]])||(n[s[e]]={}),n=n?.[s[e]];return this._cache.set(s[0],c[s[0]]),c}delete(e){const t=this.getCacheObject();let c=t;const n=e.split(".");for(let e=0;e<n.length;e++)n.length-1==e?delete c[n[e]]:(0,typeOf_function_1.isObject)(t[n[e]])||(c[n[e]]={}),c=c?.[n[e]];return this._cache.set(n[0],t[n[0]]),!0}clear(){return this._cache.clear(),!0}}exports.CacheManager=CacheManager;
